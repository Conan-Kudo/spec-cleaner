Misc:
 + PreReq: -> Requires(pre): (user might want to check if Requires(post/preun/...) is not a better choice
 + global changes should be done before local changes
   - (i.e. rewrite the code so RpmSection.add code is called before e.g. RpmBuild.add)
   - should fix make-params unit test
 + s/%doc %{(_mandir|_infodir)}/%{$1}/
 + do not break %(rpm ...) -- often used in BuildRequires/Requires

Things changed with rpm 4.7:
 + change Source: to Source0 only if >1 sources
 + change Patch: to Patch0 always

Bugs:
  buildroot is not placed corectly in the list, see the vlc.spec
  patches get {} wrapping, not good
  conditional dependencies should be sorted at the end of the buildrequires, not the fact now
  %attr, %ghost, etc. are not handled correctly
  $RPM_BUILD_ROOT_REPLACEMENT is changed to %{buildroot}_REPLACEMENT
